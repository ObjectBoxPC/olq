.code16; cld; sub $1024, %sp; mov %sp, %di; mov $p, %si; mov $322, %cx; rep movsb; mov $34, %al; stosb; mov $p, %si; mov l, %cx; rep movsb; stosb; mov $p + 322, %si; mov l, %cx; sub $322, %cx; rep movsb; mov $10, %al; stosb; sub %sp, %di; mov %di, %cx; mov $64, %ah; mov $1, %bx; mov %sp, %dx; int $33; int $32; p: .ascii ".code16; cld; sub $1024, %sp; mov %sp, %di; mov $p, %si; mov $322, %cx; rep movsb; mov $34, %al; stosb; mov $p, %si; mov l, %cx; rep movsb; stosb; mov $p + 322, %si; mov l, %cx; sub $322, %cx; rep movsb; mov $10, %al; stosb; sub %sp, %di; mov %di, %cx; mov $64, %ah; mov $1, %bx; mov %sp, %dx; int $33; int $32; p: .ascii ; l: .word . - p"; l: .word . - p
